var InvestModel=new Vue({el:"#model-index",data:{mTrans:"",pageSize:4,curPage:1,list:"",contractStatus:["未签","已签"]},methods:{getMyTransactions:function(e,t){var a=this;e?headerModel.loading=!0:$("#loader").fadeIn(300),$.ajax({url:headerModel.api+"/MyCenter/MyTransactions",data:{Token:headerModel.token,state:0,PageSize:this.pageSize,CurrentPage:this.curPage},type:"post",success:function(s){e?headerModel.loading=!1:$("#loader").fadeOut(300),0===s.resultid?t?a.list.response=a.list.response.concat(s.response):a.list=s:DGDTOOLS.tip._tip(s.message)},error:function(t){e?headerModel.loading=!1:$("#loader").fadeOut(300),DGDTOOLS.tip._tip(t.status+":接口异常"),console.error(t.status+":"+t.responseText)}})},pageClick:function(e,t){e!=this.curPage&&(this.curPage=e,t?this.getMyTransactions(1,"mb"):this.getMyTransactions(1))},delMyTran:function(e,t){var a=this;headerModel.loading=!0,$.ajax({url:headerModel.api+"/MyCenter/DelOrder",data:{Token:headerModel.token,orderid:t},type:"post",success:function(t){headerModel.loading=!1,200===t.resultid?a.delOrder(e):DGDTOOLS.tip._tip(t.message)},error:function(e){headerModel.loading=!1,DGDTOOLS.tip._tip(e.status+":接口异常"),console.error(e.status+":"+e.responseText)}})},delOrder:function(e){this.list.response.splice(e,1)}},computed:{PagesIndex:function(){return DGDTOOLS.Ev._setPage(this.totalPage,this.curPage)},totalPage:function(){return Math.ceil(this.list.pagecount/this.pageSize)}},mounted:function(){this.getMyTransactions()}});