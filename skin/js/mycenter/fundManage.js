var fundManage=new Vue({el:"#fundM",data:{pageSize:4,curPage:1,Pagedata:"",list:"",CacheList:{},type:3,typeMap:[3,1,2],tabs:["资金流水","充值记录","提现记录"]},computed:{PagesIndex:function(){return DGDTOOLS.Ev._setPage(this.totalPage,this.curPage)},totalPage:function(){return Math.ceil(this.Pagedata.pagecount/this.pageSize)}},methods:{getList:function(t,e){var a=this;t?headerModel.loading=!0:$("#loader").fadeIn(300),$.ajax({url:headerModel.api+"/MyCenter/MyFoundsNew",data:{state:a.type,timeState:0,Token:headerModel.token,PageSize:this.pageSize,CurrentPage:this.curPage},type:"post",success:function(s){t?headerModel.loading=!1:$("#loader").fadeOut(300),200===s.resultid?(a.Pagedata=s,e?a.list=a.list.concat(s.foundlist):a.list=s.foundlist,a.saveCacheList(a.type,a.list)):DGDTOOLS.tip._tip(s.message)},error:function(t){type?headerModel.loading=!1:$("#loader").fadeOut(300),DGDTOOLS.tip._tip(t.status+":接口异常"),console.error(t.status+":"+t.responseText)}})},pageClick:function(t,e){t!=this.curPage&&(this.curPage=t,e?this.getList(1,"mb"):this.getList(1))},queryList:function(t){var e=this;$(e.$refs["tab-btns"]).eq(t).addClass("cur").siblings().removeClass("cur"),e.type=e.typeMap[t];var a="type_"+e.type;e.CacheList[a]?(e.list=e.CacheList[a].list,e.curPage=e.CacheList[a].curPage,e.Pagedata.pagecount=e.CacheList[a].pagecount):(e.curPage=1,e.getList(1,0))},saveCacheList:function(t,e){t="type_"+t,this.CacheList[t]?this.CacheList[t].curPage=this.curPage:(this.CacheList[t]={},this.CacheList[t].list=[]),this.list=this.CacheList[t].list=e,this.CacheList[t].curPage=this.curPage,this.CacheList[t].pagecount=this.Pagedata.pagecount}},mounted:function(){this.getList()}});