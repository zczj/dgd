var withdrawModel=new Vue({el:"#withdraw",data:{list:"",tmoney:"0",bankId:"",pwd:"",isPop:!0},computed:{isWap:function(){return DGDTOOLS.check._isMobileOrPad()},userInfo:function(){var t={};return t},isDis:function(){var t=-1;if(this.list.length)for(var e=0;e<this.list.length;e++)if(this.list[e].iswap)return t=e;return t},bankNum:function(){var t="";return console.log(this.list.length),t=this.isDis==-1?this.bankId:this.list[this.isDis].MyBankCardID}},methods:{getMyBack:function(){var t=this;$.ajax({url:headerModel.api+"/MyCenter/MyBankCardForPC",data:{Token:headerModel.token,iswap:t.isWap},type:"post",success:function(e){$("#loader").fadeOut(300),200===e.resultid?(t.list=e.response,!t.list.length&&t.isWap&&DGDTOOLS.tip._tip("未绑卡",function(){})):DGDTOOLS.tip._tip(e.message)},error:function(t){$("#loader").fadeOut(300),DGDTOOLS.tip._tip(t.status+":接口异常"),console.error(t.status+":"+t.responseText)}})},checkPoint:function(){var t=this;console.log(t.tmoney),"-1"!=t.tmoney.indexOf(".")&&t.tmoney.split(".").length>2&&(t.tmoney=t.tmoney.split(".")[0])},checkInput:function(){var t=this;return t.tmoney<100?(DGDTOOLS.tip._tip("提现金额不能小于100元",function(){t.$refs.tmoney.focus()}),!0):""==t.pwd&&(DGDTOOLS.tip._tip("交付密码不能为空",function(){t.$refs.pwd.focus()}),!0)},withDrow:function(){var t=this;t.checkInput()||(headerModel.loading=!0,$.ajax({url:headerModel.api+"/MyCenter/Withdraw",data:{password:$.md5($.md5(t.pwd)),tMoney:t.tmoney,MyBankCardID:t.bankNum,Token:headerModel.token},type:"post",success:function(e){headerModel.loading=!1,200===e.resultid?DGDTOOLS.tip._tipAll({msg:"恭喜你！提现申请成功！",type:"ok",callback:function(){mySideModel.userBaseInfo.AvailableBalance-=t.tmoney}}):DGDTOOLS.tip._tip(e.message)},error:function(t){headerModel.loading=!1,DGDTOOLS.tip._tip(t.status+":接口异常"),console.error(t.status+":"+t.responseText)}}))}},created:function(){this.getMyBack()}});