var focusModel=new Vue({el:"#model-focus",data:{pageSize:4,curPage:1,list:"",stateMap:["预热中","筹资中","筹集成功"]},computed:{PagesIndex:function(){return DGDTOOLS.Ev._setPage(this.totalPage,this.curPage)},totalPage:function(){return Math.ceil(this.list.pagecount/this.pageSize)}},methods:{getFocusList:function(e,t){var s=this;e?headerModel.loading=!0:$("#loader").fadeIn(300),$.ajax({url:headerModel.api+"/MyCenter/MyProjectFavorites",data:{Token:headerModel.token,PageSize:this.pageSize,CurrentPage:this.curPage},type:"post",success:function(o){e?headerModel.loading=!1:$("#loader").fadeOut(300),200===o.resultid?t?s.list.response=s.list.response.concat(o.response):s.list=o:DGDTOOLS.tip._tip("错误提示"+o.message)},error:function(t){e?headerModel.loading=!1:$("#loader").fadeOut(300),DGDTOOLS.tip._tip(t.status+":接口异常"),console.error(t.status+":"+t.responseText)}})},pageClick:function(e,t){e!=this.curPage&&(this.curPage=e,t?this.getFocusList(1,"mb"):this.getFocusList(1))},del:function(e,t){var s=this;headerModel.loading=!0,$.ajax({url:headerModel.api+"/MyCenter/AddFollow",data:{token:headerModel.token,projectid:t,type:0},type:"post",success:function(t){headerModel.loading=!1,200===t.resultid?s.delFocus(e):DGDTOOLS.tip._tip(t.message)},error:function(e){headerModel.loading=!1,DGDTOOLS.tip._tip(e.status+":接口异常"),console.error(e.status+":"+e.responseText)}})},delFocus:function(e){this.list.response.splice(e,1)}},mounted:function(){this.getFocusList()}});