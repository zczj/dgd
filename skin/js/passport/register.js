var registerModel=new Vue({el:"#register",data:{verify:!1,checboxSelected:!1,pulldownShow:!1,iframeUrl:3},methods:{register:function(){var e=this;e.$refs.telPhoneNum,e.$refs.imageVerify,e.$refs.SMSVerify,e.$refs.password,e.$refs.confirmPassword,e.$refs.recommend;return console.log(this.formVerify()),!1},formVerify:function(){this.$refs.telPhoneNum,this.$refs.imageVerify,this.$refs.SMSVerify,this.$refs.password,this.$refs.confirmPassword;return!!this.telVerify()&&(!!this.imageVerify()&&(!!this.SMSVerify()&&(!!this.passwordVerify()&&void 0)))},telVerify:function(){var e=this.$refs.telPhoneNum;return""!==e.value&&passportModel.verifyTel(e.value)?($(e).removeClass("success error").addClass("success"),!0):(this.errorContrl(e,"手机号码格式不正确"),!1)},imageVerify:function(){var e=this.$refs.imageVerify;return""!==e.value&&passportModel.verifyImage(e.value)?($(e).removeClass("success error").addClass("success"),!0):(this.errorContrl(e,"图形验证码格式不正确"),!1)},SMSVerify:function(){var e=this.$refs.SMSVerify;return""!==e.value&&passportModel.verifyImage(e.value)?($(e).removeClass("success error").addClass("success"),!0):(this.errorContrl(e,"短信验证码格式不正确"),!1)},passwordVerify:function(){var e=this.$refs.password;return""!==e.value&&passportModel.verifyImage(e.value)?($(e).removeClass("success error").addClass("success"),!0):(this.errorContrl(e,"密码格式不正确"),!1)},errorContrl:function(e,r){passportModel.errorFn(r),$(e).removeClass("success error").addClass("error"),this.verify=!1,e.focus(),e.select()},sendSMS:function(){var e=this,r=this.$refs.telPhoneNum,s=this.$refs.imageVerify,t=this.$refs.SMSVerify;return!!this.telVerify()&&(!!this.imageVerify()&&void $.ajax({type:"POST",url:"/Passport/SendPhoneCode",data:{phone:r.value,c:s.value},success:function(o){switch(o){case"该手机号码被使用":e.errorContrl(r,"该手机号码已被使用");break;case"图形验证码错误":e.errorContrl(s,"图形验证码错误");break;case"发送过于频繁":passportModel.errorFn("发送过于频繁"),t.focus();break;case"发送成功":$(r).removeClass("success error").addClass("success"),$(s).removeClass("success error").addClass("success"),t.focus()}}}))},pulldown:function(e){var r=this;this.pulldownShow=!0,this.iframeUrl=e,setTimeout(function(){r.setIframe()},400),r.DGDscroll()},closePulldown:function(){this.pulldownShow=!1},setIframe:function(){var e=document.getElementById("iframe").contentWindow.document.getElementsByTagName("html")[0].offsetHeight+150,r=document.getElementById("iframe").contentWindow.document.getElementsByTagName("body")[0].offsetHeight+200;$("#iframe").height(Math.max(e,r))},DGDscroll:function(){var e=0,r=30;DGDTOOLS.Ev._mousewheel(this.$refs.DGDscroll,"mousewheel",function(s){var t=-$("#iframe").height()+registerModel.$refs.DGDscroll.clientHeight;e=s.delta>0?e+r>=0?0:e+r:e-r<=t?t:e-r,$(".scroll-bar").css("width",e/t*100+"%"),$("#iframe").css("transform","translateY("+e+"px)")})}},mounted:function(){$("#loader").fadeOut("300"),this.$refs.telPhoneNum.focus()}});