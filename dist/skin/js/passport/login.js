var loginModel=new Vue({el:"#login",data:{formShow:!1,checkName:!1},methods:{login:function(){var e=this,s=this.$refs.account,o=this.$refs.password;return console.log(this.checkName),""===s.value?(passportModel.errorFn("账号不能为空"),s.focus(),s.select(),!1):""!==o.value&&passportModel.passwordLength(o.value)?(headerModel.loading=!0,void $.ajax({url:headerModel.api+"/Passport/Login",data:{Account:s.value,Password:$.md5($.md5(o.value))},type:"post",success:function(o){o&&($("#loader").fadeOut(300),200!==o.resultid?(passportModel.errorFn(o.message),s.focus(),s.select()):200===o.resultid&&(DGDTOOLS.store.save("userInfo",o),e.successFn(),headerModel.loading=!1))},error:function(e){$.dialog({type:"ok",message:e.status+" "+e.statusText,delay:1e3,effect:!0})}})):(passportModel.errorFn("请填写正确的密码"),o.focus(),o.select(),!1)},loginBySMS:function(){var e=headerModel.api+"/Passport/ValidatePhoneCode",s=this.$refs.telPhoneNum,o=this.$refs.imageVerify,r=this.$refs.SMSVerify,t=this;return""!==s.value&&passportModel.verifyTel(s.value)?""!==o.value&&passportModel.verifyImage(o.value)?""!==r.value&&passportModel.verifySMS(r.value)?void $.ajax({url:e,type:"POST",data:{Phone:s,Code:r},success:function(e){return 200!==e.resultid?(passportModel.errorFn(e.message),s.select(),!1):void t.successFn()},error:function(e){$.dialog({type:"ok",message:e.status+" "+e.statusText,delay:1e3,effect:!0})}}):(passportModel.errorFn("请填写正确的短信验证码"),r.focus(),r.select(),!1):(passportModel.errorFn("请填写正确的图形验证码验证"),o.focus(),o.select(),!1):(passportModel.errorFn("请填写正确的手机号码"),s.focus(),s.select(),!1)},successFn:function(){window.location.href="./success.html?login&url="+(window.location.search.split("url=")[1]||"")},toggle:function(){this.formShow=!this.formShow}},mounted:function(){$("#loader").fadeOut("300"),this.$refs.account.focus()}});